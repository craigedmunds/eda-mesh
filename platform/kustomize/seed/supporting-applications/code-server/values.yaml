# Code Server configuration
image:
  repository: ghcr.io/craigedmunds/code-server-dev
  tag: "1.0.1-draft-backstage-events"
  pullPolicy: Always

# Service configuration
service:
  type: ClusterIP
  enabled: true

ports:
  http:
    enabled: true
    port: 8080
    protocol: TCP

# Persistence for user data and workspace
persistentVolumeClaim:
  enabled: true
  create: true
  size: 10Gi
  storageClassName: "local-path"
  accessMode: ReadWriteOnce
  mountPath: "/home/coder"
  projectsPath: "/home/coder/projects"

# Security context
securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000
  runAsNonRoot: true

# Resource limits
resources:
  limits:
    cpu: 2000m
    memory: 4Gi
  requests:
    cpu: 100m
    memory: 128Mi

# Secret for password
secret:
  create: true
  password: "admin123"  # Change this in production

# Environment variables
env:
  - name: TZ
    value: "UTC"

# Additional arguments
extraArgs:
  - --auth=password
  - --disable-telemetry

# Node selector (optional)
affinity: {}

# Tolerations (optional)
tolerations: []