apiVersion: camel.apache.org/v1
kind: Integration
metadata:
  labels:
    app: camel-k-mesh-{{.Values.lob}}-{{.Values.name}}
  name: camel-k-mesh-{{.Values.lob}}-{{.Values.name}}-source
  namespace: camel-k-mesh-{{.Values.lob}}
spec:
  
  flows:
  - from:
      uri: "kafka:users?brokers=kafka.confluent.svc.cluster.local:9092"
      
      # uri: "kamelet:kafka-source"
      # parameters:
      #   topic: "users"
      #   bootstrapServers: "kafka.confluent.svc.cluster.local:9092"
      #   # user: "kafka"
      #   # password: "kafka-secret"
      steps:
      # - setBody:
      #     simple: Hello Camel from ${routeId}
      - log: ${body}

  traits:
    camel:
      runtimeProvider: plain-quarkus