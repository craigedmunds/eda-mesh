{
  "name": "backstage-kargo-e2e",
  "version": "1.0.0",
  "description": "E2E testing utilities for Backstage Kargo verification",
  "private": true,
  "scripts": {
    "test:docker": "python3 scripts/local_e2e.py --docker --url https://backstage.127.0.0.1.nip.io",
    "test:kubernetes": "python3 scripts/local_e2e.py --kubernetes --url https://backstage.127.0.0.1.nip.io",
    "test:kubernetes:single": "python3 scripts/local_e2e.py --kubernetes --url https://backstage.127.0.0.1.nip.io --grep \"should validate Backstage deployment and basic functionality\"",
    "test:docker:verbose": "python3 scripts/local_e2e.py --docker --verbose --url https://backstage.127.0.0.1.nip.io",
    "test:docker:shell": "python3 scripts/local_e2e.py --docker --shell --url https://backstage.127.0.0.1.nip.io",
    "test:local": "python3 scripts/local_e2e.py --url https://backstage.127.0.0.1.nip.io",
    "test:local:verbose": "python3 scripts/local_e2e.py --verbose --url https://backstage.127.0.0.1.nip.io",
    "test:kargo-promotion": "cd acceptance-tests && npm install && npm test"
  },
  "_comments": {
    "scripts": {
      "test:docker": "Run acceptance tests in Docker with clean output",
      "test:kubernetes": "Run acceptance tests in Docker with clean output",
      "test:docker:verbose": "Run acceptance tests in Docker with Playwright debug logs (pw:browser*, pw:api*)",
      "test:docker:shell": "Open interactive shell in Docker container for debugging",
      "test:local": "Run acceptance tests locally with clean output", 
      "test:local:verbose": "Run acceptance tests locally with debug logging",
      "test:kargo-promotion": "Run Kargo promotion workflow tests (validates Kargo is working)"
    },
    "filtering": {
      "examples": {
        "list-all-tests": "npm run test:docker -- --list",
        "list-filtered": "npm run test:docker -- --filter image-factory --list",
        "list-grep": "npm run test:docker -- --grep 'should authenticate' --list",
        "image-factory-only": "npm run test:docker -- --filter image-factory",
        "eda-only": "npm run test:docker -- --filter eda",
        "enrollment-tests": "npm run test:docker -- --filter enrollment",
        "navigation-tests": "npm run test:docker -- --filter navigation",
        "grep-pattern": "npm run test:docker -- --grep 'should authenticate'",
        "combined": "npm run test:docker -- --filter image-factory --grep enrollment"
      },
      "available-filters": [
        "image-factory: Run only Image Factory plugin tests",
        "eda: Run only EDA plugin tests", 
        "enrollment: Run tests containing 'enrollment'",
        "navigation: Run tests containing 'navigation'",
        "catalog: Run tests containing 'catalog'",
        "registry: Run tests containing 'registry'",
        "pipeline: Run tests containing 'pipeline'"
      ]
    }
  }
}